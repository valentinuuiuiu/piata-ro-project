{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block title %}{% translate 'Enter new password' %}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style type="text/css">
.form-row {
    margin-bottom: 15px;
}
.form-row label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
}
.form-row input[type="password"] {
    width: 100%;
    max-width: 300px;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
.submit-row {
    margin-top: 20px;
}
.submit-row input {
    background: #417690;
    border: none;
    color: white;
    padding: 10px 15px;
    border-radius: 4px;
    cursor: pointer;
}
.submit-row input:hover {
    background: #205067;
}
</style>
{% endblock %}

{% block content %}
{% if validlink %}
    <h1>{% translate 'Enter new password' %}</h1>
    <p>{% translate "Please enter your new password twice so we can verify you typed it in correctly." %}</p>
    
    <form method="post">{% csrf_token %}
        <div class="form-row">
            {{ form.new_password1.errors }}
            <label for="{{ form.new_password1.id_for_label }}">{% translate 'New password:' %}</label>
            {{ form.new_password1 }}
        </div>
        <div class="form-row">
            {{ form.new_password2.errors }}
            <label for="{{ form.new_password2.id_for_label }}">{% translate 'Confirm password:' %}</label>
            {{ form.new_password2 }}
        </div>
        <div class="submit-row">
            <input type="submit" value="{% translate 'Change my password' %}">
        </div>
    </form>
{% else %}
    <h1>{% translate 'Password reset unsuccessful' %}</h1>
    <p>{% translate "The password reset link was invalid, possibly because it has already been used. Please request a new password reset." %}</p>
    <p><a href="{% url 'admin_password_reset' %}">{% translate 'Request new password reset' %}</a></p>
{% endif %}
{% endblock %}
